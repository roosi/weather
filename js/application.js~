function getWeather(city, country, onSuccess, onError)
{
	$.ajax({
		url: "http://api.openweathermap.org/data/2.5/weather?q=" + city + "," + country +"&units=metric",
		type: "GET",
		dataType: "jsonp",
		success: function(result) {
			onSuccess(result);
		}	,
		error: function (xhr) {
			onError(xhr.status);           
		}
	});
}

function getWeatherByCoords(lat, lon, onSuccess, onError)
{
	$.ajax({
		url: "http://api.openweathermap.org/data/2.5/weather?lat=" + lat + "&lon=" + lon +"&units=metric",
		type: "GET",
		dataType: "jsonp",
		success: function(result) {
			onSuccess(result);
		}	,
		error: function (xhr) {
			onError(xhr.status);           
		}
	});
}

function getAddress(lat, lon, onSuccess, onError) {
	$.ajax({
		url: "http://maps.googleapis.com/maps/api/geocode/json?latlng=62.228956,25.7615564&sensor=false",
		type: "GET",
		dataType: "jsonp",
		success: function(result) {
			onSuccess(result.results[0].formatted_address);
		}	,
		error: function (xhr) {
			alert("getAddress" + xhr);
			onError(xhr.status);           
		}
	});
}

function getMyLocation(onSuccess, onError) {
	if(navigator.geolocation){
		navigator.geolocation.getCurrentPosition(function(position){
			onSuccess(position);
		});
	}
	else {
		onError("Geolocation is not supported by this browser.")
	}	
}
